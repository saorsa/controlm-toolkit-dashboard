<div class="p-3">
  <div *ngIf="loading">
    Loading Control-M agents, please wait...
  </div>
  <div *ngIf="error" class="alert alert-danger">
    An error has occurred. {{error}}
  </div>
  <div *ngIf="stats">
    <app-smart-table
      [columnVisibilityOverrides]="{ 'disabled' : 'visible' }"
      [columnFilterOverrides]="{
        'node': { type: 'contains' },
        'active': { type: 'none' },
        'activeCount': { type: 'equalTo' },
        'disabled' : { type: 'none'},
        'disabledCount': { type: 'equalTo'} }"
      [columnLabelOverrides]="{
        'node': 'Node',
        'activeCount': 'Active #',
        'active': 'Active Folders',
        'disabledCount': 'Disabled #',
        'disabled': 'Disabled Folders'}"
      [columnOrderIndexOverrides]="{
        'node': 1,
        'activeCount': 2,
        'active': 4,
        'disabledCount': 3,
        'disabled': 5}"
      [columnCssOverrides]="{
        'node': '',
        'activeCount': 'text-right',
        'active': 'text-right',
        'disabledCount': '',
        'disabled': ''}"
      [columnTemplateOverrides]="{ 'node' : cellNode }"
      [items]="stats"></app-smart-table>
  </div>
</div>

<ng-template #cellNode let-dataItem=dataItem>
  <a class="btn btn-link" [routerLink]="[dataItem]">{{dataItem}}</a>
</ng-template>
